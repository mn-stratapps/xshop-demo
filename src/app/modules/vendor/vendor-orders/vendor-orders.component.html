<div class="card_bg">
    <div class="row">
     <div class="col-lg-6">
         <div class="page-header-left">
             <h3>Manage Order </h3>
         </div>
     </div>
 </div><div class="row">
    <div class="col-12">
        <div class="card dashboard-table mt-0">
            <div class="card-header"style="display:block!important;">
                <div class="row">
                   <div class="col-md-6 col-lg-3">
                   <div class="form-inline search-form search-box w-100">
                       <div class="form-groups">
                           <input class="form-control-plaintext" type="search" [(ngModel)]="searchText" (keydown.enter)="myOrdersSearchEvent($event)" placeholder="Order ID">
                       </div>
                    </div>
                   </div>
                   <div class="col-md-6 col-lg-9 d-flex justify-content-end mb_filters">
                           <a class="btn mr-2 filter_btn" (click)="myordersfilterEnabled = !myordersfilterEnabled" >
                               <i aria-hidden="true" class="fa fa-filter"></i>
                           </a>
                       <!-- <a  class="btn btn-sm btn-solid mt-md-0 mt-2">Transaction</a> -->
                       </div>
                     <div class="collapse" [class.show]="myordersfilterEnabled">
                       <div class="card card_bg  card_br mt-2">
                        <!-- <div class="row d-flex justify-content-end">
                            <div class="col-lg-3 ">
                        <button (click)="resetOrdersFilters()" type="button" class="close btn btn_clss" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                    </div> -->
                    <form [formGroup]="ordersFilterForm">
                        <ul class="mb_filter px-1" style="display: flex;">
                            <li class="mb_filter" style="display: flex;">
                           <div class="cols">
                           <div class="Categories">
                               <select class="form-select ft_size me-2" id="payment_status" formControlName="payment_status">
                                   <option value="null" disabled>-- Payment Status--</option>                     
                                   <option value="paid">Paid</option>
                                   <option value="unpaid">Unpaid</option>
                                   <option value="On Hold">On Hold</option>
                                   <option value="REFUND INITIATED">Refund Initiated</option>
                                   <option value="Refunded">Refunded</option>
                                   <option value="">All</option>
                                 </select>
                               </div>
                           </div>
                           <div class="cols">
                               <select  class="form-select ft_size me-2" name="order_status" formControlName="order_status">
                                 <option value="null" disabled>-- Order Status --</option>
                                 <option value="order placed">Order Placed</option>
                                 <option value="In Progress">In Progress</option>
                                 <option value="Cancelled">Cancelled</option>
                                 <option value="failed">Failed</option>
                                 <option value="RETURN PLACED">Return placed</option>
                                 <option value="RETURNED">Retruned</option>
                                 <option value="">All</option>
                               </select>
                            </div>
                            <div class="cols">
                               <select  class="form-select ft_size me-2" name="order_status" formControlName="shipment_status">
                                 <option value="null" disabled>-- Shipment Status --</option>
                                 <option value="PICKUP SCHEDULED">PICKUP SCHEDULED</option>
                                 <option value="PICKUP RESCHEDULED">PICKUP RESCHEDULED</option>
                                 <option value="CANCELLATION REQUESTED">CANCELLATION REQUESTED</option>
                                 <option value="DELIVERED">DELIVERED</option>
                                 <option value="NEW">NEW</option>
                                 <option value="PICKUP BOOKED">PICKUP BOOKED</option>
                                 <option value="">All</option>
                               </select>
                            </div>
                           <div class="cols">
                               <div class="dropdown">
                                   <button type="button" class="btn btn-primary dropdown-toggle ft_size" (click)="datefieldEnabled = !datefieldEnabled">
                                       <i class="fa fa-calendar me-1 select-icon mr-2"></i>
                                       Select Date
                                   </button>
                                   <div class="dropdown-menu p-3 pt-2" [class.show]="datefieldEnabled" style="margin-top: 7px;">
                                    <button (click)="!datefieldEnabled= !datefieldEnabled" type="button" class="close btn btn_cls" aria-label="Close">
                                        <span  aria-hidden="true">&times;</span>
                                      </button>
                                    <div class="d-flex">
                                       <div class="date" id="datepicker">
                                           <label>From</label>
                                           <input type="date" name="from_date" formControlName="from_date" class="form-control date_input" id="date" placeholder="From" [max]="maxDate"/>
                                         </div>
                                         <div class="date date-field" id="datepicker">
                                           <label>To</label>
                                           <input type="date" name="to_date" formControlName="to_date" class="form-control date_input" id="date" palceholder="To" [max]="maxDate"/>
                                         </div>
                                       </div>
                                    </div>
                                 </div>
                               </div>
                        </li>
                        <li>
                        <div class="cols">
                            <div class="d-flex">
                                <button (click)="getMyOrdersList()" class="btn btn-info ft_size me-2">Apply</button>
                                <button (click)="resetMyOrdersFilters()" class="btn btn-info ft_size">Reset</button>
                                
                            </div>
                        </div>
                     </li>
                 </ul>
                    </form>                              
                       </div>
                   </div>
               </div>
           </div>
            <div class="card-bg-white">
                <div style="height: 637px;overflow-y: scroll;" class="table-responsive table-desi">
                    <table class="table table-striped ">
                        <thead>
                            <tr>
                                <th scope="col">Order id</th>
                                <th scope="col">Product Image</th>
                                <th scope="col">Payment Status</th>
                                <th scope="col">Order Status</th>
                                <th scope="col">Shipment Status</th>
                                <th scope="col">Shipment Action</th>
                                <!-- <th scope="col">Date</th> -->
                                <th scope="col">Total</th>
                                <th scope="col">View</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let myorderslist of ordersList  | paginate
                            : {
                                itemsPerPage: itemsPerPage,
                                currentPage: page,
                                totalItems: totalItems
                              }">
                                <th>{{myorderslist.order_id}}</th>
                                <td> <span><img class="img-30 me-2" src="{{myorderslist.image}}"></span>
                                </td>
                                <td><span class="badge" [ngClass]="{
                                    'badge-success': myorderslist?.payment_status === 'PAID',
                                    'badge-danger': myorderslist?.payment_status === 'FAILED' || myorderslist?.payment_status === 'UNPAID',
                                    'badge-secondary': myorderslist?.payment_status === 'ON HOLD'}">{{myorderslist?.payment_status}}</span></td>
                                <td><span class="badge" [ngClass]="{
                                   'badge-success': myorderslist?.order_status === 'ORDER PLACED'|| myorderslist?.order_status === 'RETURN PLACED',
                                   'badge-warning': myorderslist?.order_status === 'INPROGRESS',
                                   'badge-secondary': myorderslist?.order_status === 'NA',
                                   'badge-danger': myorderslist?.order_status === 'CANCELLED' || myorderslist?.order_status === 'FAILED'}">{{myorderslist?.order_status}}</span></td>
                                <td>{{myorderslist?.shipment_status}}</td>
                                <!-- <td *ngIf="!(myorderslist?.shipment_status === 'PICKUP GENERATED'||
                                           myorderslist?.shipment_status === 'PICKUP BOOKED'||
                                           myorderslist?.shipment_status === 'OUT FOR PICKUP'||
                                           myorderslist?.shipment_status === 'PICKUP SCHEDULED')"
                                 title="click here"><button class="shipping_btn"  (click)="shipmentAction(myorderslist?.order_item_id,myorderslist?.shipment_status,myorderslist?.shipment_id,myorderslist?.shipment_actions)"> {{myorderslist?.shipment_actions}}</button></td>
                                <td *ngIf="myorderslist?.shipment_status === 'PICKUP GENERATED'||
                                           myorderslist?.shipment_status === 'PICKUP BOOKED'||
                                           myorderslist?.shipment_status === 'OUT FOR PICKUP'||
                                           myorderslist?.shipment_status === 'PICKUP SCHEDULED'">
                                   <select class="form-select ft_size me-2" (change)="downloadInvoices(myorderslist?.shipment_id,$event)">
                                       <option value="null" disabled >--Download--</option>                     
                                       <option value="DOWNLOAD MANIFEST">DOWNLOAD MANIFEST</option>
                                       <option value="DOWNLOAD LABEL">DOWNLOAD LABEL</option>
                                       <option value="DOWNLOAD INVOICE">DOWNLOAD INVOICE</option>
                                     </select>
                                </td> -->
                                <!-- <td>{{myorderslist?.date | date}}</td> -->
                                <td>₹{{myorderslist?.total}}</td>
                                <td>
                                   <a [routerLink]="['/pages/admin/ship-rocket/',myorderslist?.order_item_id]" >
                                       <i class="fa fa-eye text-theme"></i>
                                   </a>
                               </td>
                            </tr>                                                                 
                        </tbody>
                    </table>
                    <div class="col-sm-12 text-center section-b-space mt-5 no-found" *ngIf="!ordersList?.length">
                       <img src="assets/images/empty-search.jpg" class="img-fluid mb-4">
                       <h3>Sorry! Couldn't find the result you were looking For!!! </h3>
                       <p>Please check if you have misspelt something or try searching with other words.</p>
                   </div>
                </div>
                <pagination-controls  previousLabel="Prev" nextLabel="Next"  (pageChange)="myOrdersPageChange(page = $event)"></pagination-controls>
            </div>
        </div>
    </div>
</div> 
</div>