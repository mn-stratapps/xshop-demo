"use strict";(self.webpackChunkmultikart=self.webpackChunkmultikart||[]).push([[608],{67608:(se,Z,a)=>{a.r(Z),a.d(Z,{CoreModuleModule:()=>v});var d=a(36895),l=a(63764),r=a(24006),T=a(35226),c=a.n(T),e=a(94650),_=a(81745);function b(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function A(o,i){if(1&o&&(e.TgZ(0,"div",11),e.YNc(1,b,2,0,"div",12),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.email.errors)}}const h=function(o){return{"is-invalid":o}};function q(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"h2"),e._uU(2,"Forget Your Password"),e.qZA(),e.TgZ(3,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.resetPassword())}),e.TgZ(4,"div",2)(5,"div",6),e._UZ(6,"input",7),e.YNc(7,A,2,1,"div",8),e.qZA()(),e.TgZ(8,"div",9)(9,"button",10),e._uU(10,"Submit"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.forgotPasswordForm),e.xp6(3),e.Q6J("ngClass",e.VKq(4,h,t.submitted&&t.f.email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.email.errors),e.xp6(2),e.Q6J("disabled",t.loading)}}function C(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function F(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Password must be at least 8 characters"),e.qZA())}function P(o,i){if(1&o&&(e.TgZ(0,"div",11),e.YNc(1,C,2,0,"div",12),e.YNc(2,F,2,0,"div",12),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fv.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.fv.password.errors.minlength)}}function U(o,i){1&o&&(e.TgZ(0,"div",11),e._uU(1,"Password didn't match"),e.qZA())}function I(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"h2"),e._uU(2,"Reset Your Password"),e.qZA(),e.TgZ(3,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.validatePassword())}),e.TgZ(4,"div",2)(5,"div",6)(6,"label",13),e._uU(7,"Password (Minimum of 8 Characters):"),e.qZA(),e._UZ(8,"input",14),e.YNc(9,P,3,2,"div",8),e.qZA(),e.TgZ(10,"div",6)(11,"label",15),e._uU(12,"Confirm Password:"),e.qZA(),e.TgZ(13,"input",16),e.NdJ("input",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.checkConfirmPassword())}),e.qZA(),e.YNc(14,U,2,0,"div",8),e.qZA()(),e.TgZ(15,"div",9)(16,"button",17),e._uU(17,"Reset"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.validatePasswordForm),e.xp6(5),e.Q6J("ngClass",e.VKq(5,h,t.submitted&&t.fv.password.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.fv.password.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(7,h,t.submitted&&t.fv.confirmPassword.errors)),e.xp6(1),e.Q6J("ngIf",t.confirmPasswordError)}}class u{constructor(i,t,n,s){this.formBuilder=i,this.httpservice=t,this.router=n,this.activatedRoute=s,this.isValidatePasswordUrl=!1,this.EMAIL_ID_PATTERN=/^(([a-zA-Z0-9.!#$&'*+\/=?_`{|}~-]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.confirmPasswordError=!1,this.submitted=!1,this.loading=!1,this.isShowAlertMessage=!1,this.alertClass="",this.message="",this.showSignInButton=!1,this.isValidatePasswordUrl=!!this.router.url.includes("reset/password/")}get f(){return this.forgotPasswordForm.controls}get fv(){return this.validatePasswordForm.controls}checkConfirmPassword(){this.confirmPasswordError=this.validatePasswordForm.value.confirmPassword!==this.validatePasswordForm.value.password}initializeForgotPasswordForm(){this.forgotPasswordForm=this.formBuilder.group({email:["",[r.kI.required,r.kI.pattern(this.EMAIL_ID_PATTERN)]]})}initializeValidatePasswordForm(){this.validatePasswordForm=this.formBuilder.group({password:["",[r.kI.required,r.kI.minLength(8)]],confirmPassword:["",[r.kI.required,r.kI.minLength(8)]],token:[""]})}resetPassword(){this.submitted=!0,!this.forgotPasswordForm.invalid&&(this.showSignInButton=!1,this.loading=!0,this.httpservice.resetPassword(this.forgotPasswordForm.value).subscribe({next:i=>{console.log(i),(i.message="Password reset email sent")?(this.userProviderMessage="Your password reset email has been sent.",c().fire({icon:"success",title:"Reset link sent to Mail, Please check your Mail"}),this.router.navigate(["/login"])):(this.message=i.message,i.message.includes("Email ID Not Found")&&(this.showSignInButton=!0)),this.loading=!1},error:i=>{this.message=i.error.message,this.loading=!1,console.error(i)}}))}validatePassword(){this.submitted=!0,this.checkConfirmPassword(),!this.validatePasswordForm.invalid&&!this.confirmPasswordError&&(this.activatedRoute.queryParams.subscribe(i=>{this.token=this.activatedRoute.snapshot.params.token}),this.validatePasswordForm.value.token=this.token,this.loading=!0,this.httpservice.validatePassword(this.validatePasswordForm.value).subscribe({next:i=>{console.log(i),"Password changed Successfully, Please Login"===i.message?(c().fire({icon:"success",title:"Congratulations!",text:"Your password is changed Successfully!. Enter your email and password to sign in.",width:"400px"}),this.router.navigate(["/core/login"])):(this.message=i.message,this.alertClass="alert-danger"),this.loading=!1},error:i=>{this.alertClass="alert-danger",this.message=i.error.message}}))}ngOnInit(){this.isValidatePasswordUrl?(console.log(),this.initializeValidatePasswordForm(),this.activatedRoute.queryParams.subscribe(i=>{this.token=this.activatedRoute.snapshot.params.token}),console.log(this.token)):this.initializeForgotPasswordForm()}}function J(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function k(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Email must be a valid email address"),e.qZA())}function N(o,i){if(1&o&&(e.TgZ(0,"div",21),e.YNc(1,J,2,0,"div",22),e.YNc(2,k,2,0,"div",22),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.username.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.username.errors.email)}}function S(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function Q(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Password must be at least 4 characters"),e.qZA())}function Y(o,i){if(1&o&&(e.TgZ(0,"div",21),e.YNc(1,S,2,0,"div",22),e.YNc(2,Q,2,0,"div",22),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.password.errors.minlength)}}u.\u0275fac=function(i){return new(i||u)(e.Y36(r.qu),e.Y36(_.$),e.Y36(l.F0),e.Y36(l.gz))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-forgot-password"]],decls:5,vars:2,consts:[[1,"pwd-page"],[1,"container"],[1,"row"],["class","col-lg-6 offset-lg-3",4,"ngIf"],[1,"col-lg-6","offset-lg-3"],[1,"theme-form",3,"formGroup","ngSubmit"],[1,"col-md-12","form-group"],["type","text","id","email","formControlName","email","placeholder","Enter Your Email","data-rule","minlen:3","data-msg","Please enter at least 3 chars","required","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group"],["type","submit",1,"btn","btn-solid",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],["for","password"],["autocomplete","off","type","password","formControlName","password","id","password","data-rule","minlen:3","data-msg","Please enter at least 3 chars",1,"form-control","input-md",3,"ngClass"],["for","confirmPassword"],["type","password","autocomplete","off","formControlName","confirmPassword","id","confirm_password","data-rule","minlen:3","data-msg","Please enter at least 3 chars",1,"form-control","input-md",3,"ngClass","input"],["type","submit",1,"btn","btn-solid"]],template:function(i,t){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e.YNc(3,q,11,6,"div",3),e.qZA(),e.YNc(4,I,18,9,"div",3),e.qZA()()),2&i&&(e.xp6(3),e.Q6J("ngIf",!t.isValidatePasswordUrl),e.xp6(1),e.Q6J("ngIf",t.isValidatePasswordUrl))},dependencies:[d.mk,d.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u]});const x=function(o){return{"is-invalid":o}};function y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",10)(1,"h3"),e._uU(2,"Login"),e.qZA(),e.TgZ(3,"div",11)(4,"form",12),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e.TgZ(5,"div",13)(6,"label",14),e._uU(7,"Email/Username"),e.qZA(),e._UZ(8,"input",15),e.YNc(9,N,3,2,"div",16),e.qZA(),e.TgZ(10,"div",13)(11,"label",17),e._uU(12,"Password"),e.qZA(),e._UZ(13,"input",18),e.YNc(14,Y,3,2,"div",16),e.TgZ(15,"button",19),e._uU(16,"Login"),e.qZA(),e.TgZ(17,"a",20),e._uU(18,"Forgot Password"),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.loginForm),e.xp6(4),e.Q6J("ngClass",e.VKq(5,x,t.submitted)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.username.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(7,x,t.submitted)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.password.errors)}}function E(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Email is incorrect"),e.qZA())}function L(o,i){if(1&o&&(e.TgZ(0,"div",21),e.YNc(1,E,2,0,"div",22),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fv.email.errors)}}function O(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",23)(1,"h2"),e._uU(2,"Reactivate Your Account"),e.qZA(),e.TgZ(3,"form",12),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.reactivateEmail())}),e.TgZ(4,"div",2)(5,"div",24),e._UZ(6,"input",25),e.YNc(7,L,2,1,"div",16),e.qZA()(),e.TgZ(8,"div",13)(9,"button",26),e._uU(10,"Submit"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.reactivateEmailForm),e.xp6(3),e.Q6J("ngClass",e.VKq(4,x,t.submitted&&t.fv.email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.fv.email.errors),e.xp6(2),e.Q6J("disabled",t.loading)}}class g{constructor(i,t,n,s){this.formBuilder=i,this.route=t,this.router=n,this.httpService=s,this.isActivateUrl=!1,this.submitted=!1,this.error="",this.loading=!1,this.isActivateUrl=!!this.router.url.includes("reactivate/account")}ngOnInit(){this.isActivateUrl?this.initializeReactivateEmailForm():this.initializeLoginForm()}initializeLoginForm(){this.loginForm=this.formBuilder.group({username:["",[r.kI.required]],password:["",[r.kI.required,r.kI.minLength(4)]]})}initializeReactivateEmailForm(){this.reactivateEmailForm=this.formBuilder.group({email:["",[r.kI.required,r.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],emailActivationToken:[""]})}get f(){return this.loginForm.controls}get fv(){return this.reactivateEmailForm.controls}getUserDetails(){this.httpService.getUserDetails(this.accessToken).subscribe({next:i=>{console.log(i),1===i.role?this.router.navigate(["/home/super_admin"]):2===i.role?this.router.navigate(["admin/dashboard"]):3===i.role?this.router.navigate(["/home/vendor"]):4===i.role?this.router.navigate(["/home/fashion"]):console.log("role not defined")},error:i=>{this.error=i,console.error(i),this.loading=!1}})}reactivateEmail(){this.submitted=!0,!this.reactivateEmailForm.invalid&&this.httpService.reactivateAccount(this.reactivateEmailForm.value).subscribe({next:i=>{console.log(i),this.emailActivationToken=i.emailActivationToken,this.httpService.emailActivationToken=i.emailActivationToken,(i.message="Account Activation Email Sent")&&(c().fire({icon:"success",title:"Congratulations!",text:"Activation Email sent, Please Verify Otp",width:"400px"}),this.router.navigate(["/core/activate_account/"+this.emailActivationToken]))},error:i=>{this.error=i,console.error(i),this.loading=!1,(i.message="This Email is Not Registered")&&c().fire({icon:"error",title:"Oops...",text:"Your Email is not registered, Please create your"})}})}onSubmit(){this.submitted=!0,!this.loginForm.invalid&&(this.loading=!0,this.httpService.login(this.f.username.value,this.f.password.value).subscribe({next:i=>{console.log(i);const t={Token:i.accessToken};this.accessToken=i.accessToken,this.httpService.accessToken=i.accessToken,localStorage.clear(),localStorage.setItem("currentUser",JSON.stringify(t)),this.getUserDetails()},error:i=>{this.error=i,console.error(i),this.loading=!1,(i.message="Account is in In-Active, please Activate your account")&&(c().fire({icon:"error",title:"Oops...",text:"Something went wrong!"}),this.router.navigate(["/core/reactivate/account"]))}}))}}function z(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Please enter your username."),e.qZA())}function M(o,i){if(1&o&&(e.TgZ(0,"div",23),e.YNc(1,z,2,0,"div",24),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.username.errors)}}function V(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function R(o,i){if(1&o&&(e.TgZ(0,"div",23),e.YNc(1,V,2,0,"div",24),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.first_name.errors.required)}}function K(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Last Name is required"),e.qZA())}function B(o,i){if(1&o&&(e.TgZ(0,"div",23),e.YNc(1,K,2,0,"div",24),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.last_name.errors.required)}}function G(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Please enter your Mobile No."),e.qZA())}function $(o,i){if(1&o&&(e.TgZ(0,"div",23),e.YNc(1,G,2,0,"div",24),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mobile_number.errors)}}function H(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Please enter your Email."),e.qZA())}function D(o,i){if(1&o&&(e.TgZ(0,"div",23),e.YNc(1,H,2,0,"div",24),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.email.errors)}}function j(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function X(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Password should be obscure and must be at least 8 characters long"),e.qZA())}function W(o,i){if(1&o&&(e.TgZ(0,"div",23),e.YNc(1,j,2,0,"div",24),e.YNc(2,X,2,0,"div",24),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.password.errors.minlength)}}g.\u0275fac=function(i){return new(i||g)(e.Y36(r.qu),e.Y36(l.gz),e.Y36(l.F0),e.Y36(_.$))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"login-page","section-b-space"],[1,"container"],[1,"row"],["class","col-lg-6",4,"ngIf"],["class","col-lg-6 offset-lg-3",4,"ngIf"],[1,"col-lg-6","right-login"],[1,"theme-card","authentication-right"],[1,"title-font"],[1,"btn","btn-solid"],["href","/core/signup"],[1,"col-lg-6"],[1,"theme-card"],[1,"theme-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","text","formControlName","username","placeholder","Email Id","required","",1,"input-field","form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","review"],["type","password","formControlName","password","placeholder","Enter Password",1,"input-field","form-control",3,"ngClass"],["type","submit",1,"btn","btn-solid"],["href","/core/forgot/password"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-lg-6","offset-lg-3"],[1,"col-md-12","form-group"],["type","text","id","email","name","email","formControlName","email","placeholder","Enter email","data-rule","minlen:3","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-solid",3,"disabled"]],template:function(i,t){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e.YNc(3,y,19,9,"div",3),e.YNc(4,O,11,6,"div",4),e.TgZ(5,"div",5)(6,"h3"),e._uU(7,"New Customer"),e.qZA(),e.TgZ(8,"div",6)(9,"h6",7),e._uU(10,"Create A Account"),e.qZA(),e.TgZ(11,"p"),e._uU(12,"Sign up for a free account at our store. Registration is quick and easy. It allows you to be able to order from our shop. To start shopping click register."),e.qZA(),e.TgZ(13,"button",8)(14,"a",9),e._uU(15,"Create an Account"),e.qZA()()()()()()()),2&i&&(e.xp6(3),e.Q6J("ngIf",!t.isActivateUrl),e.xp6(1),e.Q6J("ngIf",t.isActivateUrl))},dependencies:[d.mk,d.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u]});const m=function(o){return{"is-invalid":o}};function ee(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"h3"),e._uU(2,"create account"),e.qZA(),e.TgZ(3,"div",6)(4,"form",7),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.registerUser())}),e.TgZ(5,"div",2)(6,"div",8)(7,"label",9),e._uU(8,"User Name"),e.qZA(),e._UZ(9,"input",10),e.YNc(10,M,2,1,"div",11),e.qZA(),e.TgZ(11,"div",8)(12,"label",12),e._uU(13,"First Name"),e.qZA(),e._UZ(14,"input",13),e.YNc(15,R,2,1,"div",11),e.qZA(),e.TgZ(16,"div",8)(17,"label",14),e._uU(18,"Last Name"),e.qZA(),e._UZ(19,"input",15),e.YNc(20,B,2,1,"div",11),e.qZA(),e.TgZ(21,"div",8)(22,"label",16),e._uU(23,"Mobile"),e.qZA(),e._UZ(24,"input",17),e.YNc(25,$,2,1,"div",11),e.qZA(),e.TgZ(26,"div",8)(27,"div",18)(28,"label",9),e._uU(29,"email"),e.qZA(),e._UZ(30,"input",19),e.YNc(31,D,2,1,"div",11),e.qZA()(),e.TgZ(32,"div",8)(33,"label",20),e._uU(34,"Password"),e.qZA(),e._UZ(35,"input",21),e.YNc(36,W,3,2,"div",11),e.qZA()(),e.TgZ(37,"button",22),e._uU(38,"create Account"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.registerForm),e.xp6(5),e.Q6J("ngClass",e.VKq(14,m,t.submitted&&t.f.username.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.username.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(16,m,t.submitted&&t.f.first_name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.first_name.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(18,m,t.submitted&&t.f.last_name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.last_name.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(20,m,t.submitted&&t.f.mobile_number.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mobile_number.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(22,m,t.submitted&&t.f.email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.email.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(24,m,t.submitted&&t.f.password.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.password.errors),e.xp6(1),e.Q6J("disabled",t.loading)}}function te(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"Otp is incorrect"),e.qZA())}function ie(o,i){if(1&o&&(e.TgZ(0,"div",23),e.YNc(1,te,2,0,"div",24),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.fv.otp.errors)}}function oe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",25)(1,"h2"),e._uU(2,"Verify Your Account"),e.qZA(),e.TgZ(3,"form",7),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.validateOtp())}),e.TgZ(4,"div",2)(5,"div",26),e._UZ(6,"input",27),e.YNc(7,ie,2,1,"div",11),e.qZA()(),e.TgZ(8,"div",18)(9,"button",22),e._uU(10,"Submit"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.validateOtpForm),e.xp6(3),e.Q6J("ngClass",e.VKq(4,m,t.submitted&&t.fv.otp.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.fv.otp.errors),e.xp6(2),e.Q6J("disabled",t.loading)}}class p{constructor(i,t,n,s){this.formBuilder=i,this.httpservice=t,this.router=n,this.activatedRoute=s,this.isOtpFormUrl=!1,this.loading=!1,this.submitted=!1,this.isOtpFormUrl=!!this.router.url.includes("activate_account/")}initializeRegisterForm(){this.registerForm=this.formBuilder.group({username:["",r.kI.required],first_name:["",r.kI.required],last_name:["",r.kI.required],email:["",[r.kI.required,r.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[r.kI.required,r.kI.minLength(6)]],mobile_number:["",[r.kI.required,r.kI.pattern("^[0-9]*$"),r.kI.minLength(10),r.kI.maxLength(10)]]})}initializeValidateOtpForm(){this.validateOtpForm=this.formBuilder.group({otp:["",[r.kI.required,r.kI.minLength(5)]],emailActivationToken:[""]})}get f(){return this.registerForm.controls}get fv(){return this.validateOtpForm.controls}registerUser(){this.submitted=!0,this.httpservice.register(this.registerForm.value).subscribe({next:i=>{console.log(i),this.emailActivationToken=i.emailActivationToken,this.httpservice.emailActivationToken=i.emailActivationToken,(i.success="Account Activation Email Sent")&&(c().fire({icon:"success",title:"Congratulations!",text:"Your account has been Registered. Please verify otp sent to mail",width:"400px"}),this.router.navigate(["/core/activate_account/"+this.emailActivationToken]))},error:i=>{this.errorMessage=i,this.loading=!1}})}validateOtp(){this.submitted=!0,!this.validateOtpForm.invalid&&(this.validateOtpForm.value.emailActivationToken=this.httpservice.emailActivationToken,this.activatedRoute.queryParams.subscribe(i=>{this.validateOtpForm.value.emailActivationToken=this.activatedRoute.snapshot.params.token,this.validateOtpForm.value.emailActivationToken=this.httpservice.emailActivationToken}),this.loading=!0,this.httpservice.validateOtp(this.validateOtpForm.value).subscribe({next:i=>{console.log(i),(i.message="Account successfully activated")&&(c().fire({icon:"success",title:"Congratulations!",text:"Your Email is verified!, Please Login",width:"400px"}),this.router.navigate(["/core/login"]))},error:i=>{this.message=i.error.message}}))}ngOnInit(){this.isOtpFormUrl?this.initializeValidateOtpForm():this.initializeRegisterForm()}}p.\u0275fac=function(i){return new(i||p)(e.Y36(r.qu),e.Y36(_.$),e.Y36(l.F0),e.Y36(l.gz))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-signup"]],decls:5,vars:2,consts:[[1,"register-page","section-b-space"],[1,"container"],[1,"row"],["class","col-lg-12",4,"ngIf"],["class","col-lg-6 offset-lg-3",4,"ngIf"],[1,"col-lg-12"],[1,"theme-card"],[1,"theme-form",3,"formGroup","ngSubmit"],[1,"col-md-6"],["for","email"],["type","text","id","username","formControlName","username","required","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","firstName"],["type","text","id","fname","formControlName","first_name","placeholder","First Name","required","",1,"form-control",3,"ngClass"],["for","lastName"],["type","text","id","lname","formControlName","last_name","placeholder","Last Name","required","",1,"form-control",3,"ngClass"],["for","moile"],["type","text","id","mobile_number","formControlName","mobile_number","placeholder","Mobile No","required","",1,"form-control",3,"ngClass"],[1,"form-group"],["type","text","id","email","formControlName","email","placeholder","Email","required","",1,"form-control",3,"ngClass"],["for","password"],["type","password","id","review","formControlName","password","placeholder","Enter your password","required","",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-solid",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-lg-6","offset-lg-3"],[1,"col-md-12","form-group"],["type","text","id","otp","formControlName","otp","placeholder","Enter Otp","data-rule","minlen:3","required","",1,"form-control",3,"ngClass"]],template:function(i,t){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e.YNc(3,ee,39,26,"div",3),e.qZA(),e.YNc(4,oe,11,6,"div",4),e.qZA()()),2&i&&(e.xp6(3),e.Q6J("ngIf",!t.isOtpFormUrl),e.xp6(1),e.Q6J("ngIf",t.isOtpFormUrl))},dependencies:[d.mk,d.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u]});const re=[{path:"login",component:g},{path:"signup",component:p},{path:"activate_account/:token",component:p},{path:"reactivate/account",component:g},{path:"forgot/password",component:u},{path:"reset/password/:token",component:u}];class f{}f.\u0275fac=function(i){return new(i||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({imports:[l.Bz.forChild(re),l.Bz]});class v{}v.\u0275fac=function(i){return new(i||v)},v.\u0275mod=e.oAB({type:v}),v.\u0275inj=e.cJS({imports:[d.ez,f,r.UX,r.u5,l.Bz]})}}]);